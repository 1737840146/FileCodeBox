import{b as P,c as ae,d as se,e as T,_ as z,f as qe,w as fe,h as me,j as $,m as J,E as N,k as Me,l as Ke,n as He,o as We,z as Xe,p as Je,q as Qe}from"./base-3569949a.js";import{b as Ye,u as ve,a as ye,_ as Ze,E as et}from"./CardTools.vue_vue_type_script_setup_true_lang-0a431899.js";import{U as ee,C as tt,E as ge}from"./el-tag-2075124c.js";import{i as at,E as st,a as ot}from"./el-select-d7305d7d.js";import"./el-popper-8a9a4f4f.js";import{r as be,E as lt}from"./request-53aeb44c.js";import{i as oe,r as B,A as he,B as L,d as C,m as b,p as w,y as R,b as _e,C as ke,s as e,g as Ee,D as h,E as D,G as V,n as Se,x as I,z as q,H as $e,o as we,I as Re,a as nt,t as rt,l as Q,N as F,J as x,w as E,F as it,q as ut,K as Ce,L as S,e as _,M as dt,O as pt,P as Y,f as le,Q as ct,R as ft,S as mt,U as ne,V as re,W as vt}from"./index-4cf91ffb.js";import{d as De,t as te,i as Fe,u as yt}from"./focus-trap-82046fc4.js";import{a as xe,b as gt,c as j,d as bt,e as ht,f as _t,g as kt,E as Et}from"./el-button-cb4d7ad5.js";import{b as St}from"./_baseClone-19e7be70.js";import"./vnode-5a4b610e.js";var $t=1,wt=4;function ie(o){return St(o,$t|wt)}const Ue=P({size:xe,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Rt=P({...Ue,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Le={[ee]:o=>oe(o)||ae(o)||se(o),[tt]:o=>oe(o)||ae(o)||se(o)},Be=Symbol("radioGroupKey"),Pe=(o,l)=>{const s=B(),t=he(Be,void 0),p=L(()=>!!t),v=L({get(){return p.value?t.modelValue:o.modelValue},set(d){p.value?t.changeEvent(d):l&&l(ee,d),s.value.checked=o.modelValue===o.label}}),c=gt(L(()=>t==null?void 0:t.size)),y=j(L(()=>t==null?void 0:t.disabled)),f=B(!1),i=L(()=>y.value||p.value&&v.value!==o.label?-1:0);return{radioRef:s,isGroup:p,radioGroup:t,focus:f,size:c,disabled:y,tabIndex:i,modelValue:v}},Ct=["value","name","disabled"],Dt=C({name:"ElRadio"}),Ft=C({...Dt,props:Rt,emits:Le,setup(o,{emit:l}){const s=o,t=T("radio"),{radioRef:p,radioGroup:v,focus:c,size:y,disabled:f,modelValue:i}=Pe(s,l);function d(){Se(()=>l("change",i.value))}return(r,a)=>{var u;return b(),w("label",{class:h([e(t).b(),e(t).is("disabled",e(f)),e(t).is("focus",e(c)),e(t).is("bordered",r.border),e(t).is("checked",e(i)===r.label),e(t).m(e(y))])},[R("span",{class:h([e(t).e("input"),e(t).is("disabled",e(f)),e(t).is("checked",e(i)===r.label)])},[_e(R("input",{ref_key:"radioRef",ref:p,"onUpdate:modelValue":a[0]||(a[0]=n=>Ee(i)?i.value=n:null),class:h(e(t).e("original")),value:r.label,name:r.name||((u=e(v))==null?void 0:u.name),disabled:e(f),type:"radio",onFocus:a[1]||(a[1]=n=>c.value=!0),onBlur:a[2]||(a[2]=n=>c.value=!1),onChange:d},null,42,Ct),[[ke,e(i)]]),R("span",{class:h(e(t).e("inner"))},null,2)],2),R("span",{class:h(e(t).e("label")),onKeydown:a[3]||(a[3]=V(()=>{},["stop"]))},[D(r.$slots,"default",{},()=>[I(q(r.label),1)])],34)],2)}}});var xt=z(Ft,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Ut=P({...Ue,name:{type:String,default:""}}),Lt=["value","name","disabled"],Bt=C({name:"ElRadioButton"}),Pt=C({...Bt,props:Ut,setup(o){const l=o,s=T("radio"),{radioRef:t,focus:p,size:v,disabled:c,modelValue:y,radioGroup:f}=Pe(l),i=L(()=>({backgroundColor:(f==null?void 0:f.fill)||"",borderColor:(f==null?void 0:f.fill)||"",boxShadow:f!=null&&f.fill?`-1px 0 0 0 ${f.fill}`:"",color:(f==null?void 0:f.textColor)||""}));return(d,r)=>{var a;return b(),w("label",{class:h([e(s).b("button"),e(s).is("active",e(y)===d.label),e(s).is("disabled",e(c)),e(s).is("focus",e(p)),e(s).bm("button",e(v))])},[_e(R("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":r[0]||(r[0]=u=>Ee(y)?y.value=u:null),class:h(e(s).be("button","original-radio")),value:d.label,type:"radio",name:d.name||((a=e(f))==null?void 0:a.name),disabled:e(c),onFocus:r[1]||(r[1]=u=>p.value=!0),onBlur:r[2]||(r[2]=u=>p.value=!1)},null,42,Lt),[[ke,e(y)]]),R("span",{class:h(e(s).be("button","inner")),style:$e(e(y)===d.label?e(i):{}),onKeydown:r[3]||(r[3]=V(()=>{},["stop"]))},[D(d.$slots,"default",{},()=>[I(q(d.label),1)])],38)],2)}}});var Te=z(Pt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Tt=P({id:{type:String,default:void 0},size:xe,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Vt=Le,Ot=["id","aria-label","aria-labelledby"],Nt=C({name:"ElRadioGroup"}),zt=C({...Nt,props:Tt,emits:Vt,setup(o,{emit:l}){const s=o,t=T("radio"),p=qe(),v=B(),{formItem:c}=bt(),{inputId:y,isLabeledByFormItem:f}=ht(s,{formItemContext:c}),i=r=>{l(ee,r),Se(()=>l("change",r))};we(()=>{const r=v.value.querySelectorAll("[type=radio]"),a=r[0];!Array.from(r).some(u=>u.checked)&&a&&(a.tabIndex=0)});const d=L(()=>s.name||p.value);return Re(Be,nt({...rt(s),changeEvent:i,name:d})),Q(()=>s.modelValue,()=>{s.validateEvent&&(c==null||c.validate("change").catch(r=>De()))}),(r,a)=>(b(),w("div",{id:e(y),ref_key:"radioGroupRef",ref:v,class:h(e(t).b("group")),role:"radiogroup","aria-label":e(f)?void 0:r.label||"radio-group","aria-labelledby":e(f)?e(c).labelId:void 0},[D(r.$slots,"default")],10,Ot))}});var Ve=z(zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const It=fe(xt,{RadioButton:Te,RadioGroup:Ve}),At=me(Ve);me(Te);const Oe=Symbol("uploadContextKey"),Gt="ElUpload";class jt extends Error{constructor(l,s,t,p){super(l),this.name="UploadAjaxError",this.status=s,this.method=t,this.url=p}}function ue(o,l,s){let t;return s.response?t=`${s.response.error||s.response}`:s.responseText?t=`${s.responseText}`:t=`fail to ${l.method} ${o} ${s.status}`,new jt(t,s.status,l.method,o)}function qt(o){const l=o.responseText||o.response;if(!l)return l;try{return JSON.parse(l)}catch{return l}}const Mt=o=>{typeof XMLHttpRequest>"u"&&te(Gt,"XMLHttpRequest is undefined");const l=new XMLHttpRequest,s=o.action;l.upload&&l.upload.addEventListener("progress",v=>{const c=v;c.percent=v.total>0?v.loaded/v.total*100:0,o.onProgress(c)});const t=new FormData;if(o.data)for(const[v,c]of Object.entries(o.data))Array.isArray(c)?t.append(v,...c):t.append(v,c);t.append(o.filename,o.file,o.file.name),l.addEventListener("error",()=>{o.onError(ue(s,o,l))}),l.addEventListener("load",()=>{if(l.status<200||l.status>=300)return o.onError(ue(s,o,l));o.onSuccess(qt(l))}),l.open(o.method,s,!0),o.withCredentials&&"withCredentials"in l&&(l.withCredentials=!0);const p=o.headers||{};if(p instanceof Headers)p.forEach((v,c)=>l.setRequestHeader(c,v));else for(const[v,c]of Object.entries(p))Fe(c)||l.setRequestHeader(v,String(c));return l.send(t),l},Ne=["text","picture","picture-card"];let Kt=1;const Z=()=>Date.now()+Kt++,ze=P({action:{type:String,default:"#"},headers:{type:$(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>J({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:$(Array),default:()=>J([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Ne,default:"text"},httpRequest:{type:$(Function),default:Mt},disabled:Boolean,limit:Number}),Ht=P({...ze,beforeUpload:{type:$(Function),default:F},beforeRemove:{type:$(Function)},onRemove:{type:$(Function),default:F},onChange:{type:$(Function),default:F},onPreview:{type:$(Function),default:F},onSuccess:{type:$(Function),default:F},onProgress:{type:$(Function),default:F},onError:{type:$(Function),default:F},onExceed:{type:$(Function),default:F}}),Wt=P({files:{type:$(Array),default:()=>J([])},disabled:{type:Boolean,default:!1},handlePreview:{type:$(Function),default:F},listType:{type:String,values:Ne,default:"text"}}),Xt={remove:o=>!!o},Jt=["onKeydown"],Qt=["src"],Yt=["onClick"],Zt=["title"],ea=["onClick"],ta=["onClick"],aa=C({name:"ElUploadList"}),sa=C({...aa,props:Wt,emits:Xt,setup(o,{emit:l}){const{t:s}=_t(),t=T("upload"),p=T("icon"),v=T("list"),c=j(),y=B(!1),f=i=>{l("remove",i)};return(i,d)=>(b(),x(dt,{tag:"ul",class:h([e(t).b("list"),e(t).bm("list",i.listType),e(t).is("disabled",e(c))]),name:e(v).b()},{default:E(()=>[(b(!0),w(it,null,ut(i.files,r=>(b(),w("li",{key:r.uid||r.name,class:h([e(t).be("list","item"),e(t).is(r.status),{focusing:y.value}]),tabindex:"0",onKeydown:Ce(a=>!e(c)&&f(r),["delete"]),onFocus:d[0]||(d[0]=a=>y.value=!0),onBlur:d[1]||(d[1]=a=>y.value=!1),onClick:d[2]||(d[2]=a=>y.value=!1)},[D(i.$slots,"default",{file:r},()=>[i.listType==="picture"||r.status!=="uploading"&&i.listType==="picture-card"?(b(),w("img",{key:0,class:h(e(t).be("list","item-thumbnail")),src:r.url,alt:""},null,10,Qt)):S("v-if",!0),r.status==="uploading"||i.listType!=="picture-card"?(b(),w("div",{key:1,class:h(e(t).be("list","item-info"))},[R("a",{class:h(e(t).be("list","item-name")),onClick:V(a=>i.handlePreview(r),["prevent"])},[_(e(N),{class:h(e(p).m("document"))},{default:E(()=>[_(e(Me))]),_:1},8,["class"]),R("span",{class:h(e(t).be("list","item-file-name")),title:r.name},q(r.name),11,Zt)],10,Yt),r.status==="uploading"?(b(),x(e(Ye),{key:0,type:i.listType==="picture-card"?"circle":"line","stroke-width":i.listType==="picture-card"?6:2,percentage:Number(r.percentage),style:$e(i.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):S("v-if",!0)],2)):S("v-if",!0),R("label",{class:h(e(t).be("list","item-status-label"))},[i.listType==="text"?(b(),x(e(N),{key:0,class:h([e(p).m("upload-success"),e(p).m("circle-check")])},{default:E(()=>[_(e(Ke))]),_:1},8,["class"])):["picture-card","picture"].includes(i.listType)?(b(),x(e(N),{key:1,class:h([e(p).m("upload-success"),e(p).m("check")])},{default:E(()=>[_(e(He))]),_:1},8,["class"])):S("v-if",!0)],2),e(c)?S("v-if",!0):(b(),x(e(N),{key:2,class:h(e(p).m("close")),onClick:a=>f(r)},{default:E(()=>[_(e(We))]),_:2},1032,["class","onClick"])),S(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),S(" This is a bug which needs to be fixed "),S(" TODO: Fix the incorrect navigation interaction "),e(c)?S("v-if",!0):(b(),w("i",{key:3,class:h(e(p).m("close-tip"))},q(e(s)("el.upload.deleteTip")),3)),i.listType==="picture-card"?(b(),w("span",{key:4,class:h(e(t).be("list","item-actions"))},[R("span",{class:h(e(t).be("list","item-preview")),onClick:a=>i.handlePreview(r)},[_(e(N),{class:h(e(p).m("zoom-in"))},{default:E(()=>[_(e(Xe))]),_:1},8,["class"])],10,ea),e(c)?S("v-if",!0):(b(),w("span",{key:0,class:h(e(t).be("list","item-delete")),onClick:a=>f(r)},[_(e(N),{class:h(e(p).m("delete"))},{default:E(()=>[_(e(Je))]),_:1},8,["class"])],10,ta))],2)):S("v-if",!0)])],42,Jt))),128)),D(i.$slots,"append")]),_:3},8,["class","name"]))}});var de=z(sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const oa=P({disabled:{type:Boolean,default:!1}}),la={file:o=>pt(o)},na=["onDrop","onDragover"],Ie="ElUploadDrag",ra=C({name:Ie}),ia=C({...ra,props:oa,emits:la,setup(o,{emit:l}){const s=he(Oe);s||te(Ie,"usage: <el-upload><el-upload-dragger /></el-upload>");const t=T("upload"),p=B(!1),v=j(),c=f=>{if(v.value)return;p.value=!1,f.stopPropagation();const i=Array.from(f.dataTransfer.files),d=s.accept.value;if(!d){l("file",i);return}const r=i.filter(a=>{const{type:u,name:n}=a,g=n.includes(".")?`.${n.split(".").pop()}`:"",k=u.replace(/\/.*$/,"");return d.split(",").map(m=>m.trim()).filter(m=>m).some(m=>m.startsWith(".")?g===m:/\/\*$/.test(m)?k===m.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(m)?u===m:!1)});l("file",r)},y=()=>{v.value||(p.value=!0)};return(f,i)=>(b(),w("div",{class:h([e(t).b("dragger"),e(t).is("dragover",p.value)]),onDrop:V(c,["prevent"]),onDragover:V(y,["prevent"]),onDragleave:i[0]||(i[0]=V(d=>p.value=!1,["prevent"]))},[D(f.$slots,"default")],42,na))}});var ua=z(ia,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const da=P({...ze,beforeUpload:{type:$(Function),default:F},onRemove:{type:$(Function),default:F},onStart:{type:$(Function),default:F},onSuccess:{type:$(Function),default:F},onProgress:{type:$(Function),default:F},onError:{type:$(Function),default:F},onExceed:{type:$(Function),default:F}}),pa=["onKeydown"],ca=["name","multiple","accept"],fa=C({name:"ElUploadContent",inheritAttrs:!1}),ma=C({...fa,props:da,setup(o,{expose:l}){const s=o,t=T("upload"),p=j(),v=Y({}),c=Y(),y=n=>{if(n.length===0)return;const{autoUpload:g,limit:k,fileList:m,multiple:O,onStart:U,onExceed:M}=s;if(k&&m.length+n.length>k){M(n,m);return}O||(n=n.slice(0,1));for(const K of n){const A=K;A.uid=Z(),U(A),g&&f(A)}},f=async n=>{if(c.value.value="",!s.beforeUpload)return i(n);let g,k={};try{const O=s.data,U=s.beforeUpload(n);k=le(s.data)?ie(s.data):s.data,g=await U,le(s.data)&&at(O,k)&&(k=ie(s.data))}catch{g=!1}if(g===!1){s.onRemove(n);return}let m=n;g instanceof Blob&&(g instanceof File?m=g:m=new File([g],n.name,{type:n.type})),i(Object.assign(m,{uid:n.uid}),k)},i=(n,g)=>{const{headers:k,data:m,method:O,withCredentials:U,name:M,action:K,onProgress:A,onSuccess:Ae,onError:Ge,httpRequest:je}=s,{uid:H}=n,W={headers:k||{},withCredentials:U,file:n,data:g??m,method:O,filename:M,action:K,onProgress:G=>{A(G,n)},onSuccess:G=>{Ae(G,n),delete v.value[H]},onError:G=>{Ge(G,n),delete v.value[H]}},X=je(W);v.value[H]=X,X instanceof Promise&&X.then(W.onSuccess,W.onError)},d=n=>{const g=n.target.files;g&&y(Array.from(g))},r=()=>{p.value||(c.value.value="",c.value.click())},a=()=>{r()};return l({abort:n=>{kt(v.value).filter(n?([k])=>String(n.uid)===k:()=>!0).forEach(([k,m])=>{m instanceof XMLHttpRequest&&m.abort(),delete v.value[k]})},upload:f}),(n,g)=>(b(),w("div",{class:h([e(t).b(),e(t).m(n.listType),e(t).is("drag",n.drag)]),tabindex:"0",onClick:r,onKeydown:Ce(V(a,["self"]),["enter","space"])},[n.drag?(b(),x(ua,{key:0,disabled:e(p),onFile:y},{default:E(()=>[D(n.$slots,"default")]),_:3},8,["disabled"])):D(n.$slots,"default",{key:1}),R("input",{ref_key:"inputRef",ref:c,class:h(e(t).e("input")),name:n.name,multiple:n.multiple,accept:n.accept,type:"file",onChange:d,onClick:g[0]||(g[0]=V(()=>{},["stop"]))},null,42,ca)],42,pa))}});var pe=z(ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const ce="ElUpload",va=o=>{var l;(l=o.url)!=null&&l.startsWith("blob:")&&URL.revokeObjectURL(o.url)},ya=(o,l)=>{const s=yt(o,"fileList",void 0,{passive:!0}),t=a=>s.value.find(u=>u.uid===a.uid);function p(a){var u;(u=l.value)==null||u.abort(a)}function v(a=["ready","uploading","success","fail"]){s.value=s.value.filter(u=>!a.includes(u.status))}const c=(a,u)=>{const n=t(u);n&&(console.error(a),n.status="fail",s.value.splice(s.value.indexOf(n),1),o.onError(a,n,s.value),o.onChange(n,s.value))},y=(a,u)=>{const n=t(u);n&&(o.onProgress(a,n,s.value),n.status="uploading",n.percentage=Math.round(a.percent))},f=(a,u)=>{const n=t(u);n&&(n.status="success",n.response=a,o.onSuccess(a,n,s.value),o.onChange(n,s.value))},i=a=>{Fe(a.uid)&&(a.uid=Z());const u={name:a.name,percentage:0,status:"ready",size:a.size,raw:a,uid:a.uid};if(o.listType==="picture-card"||o.listType==="picture")try{u.url=URL.createObjectURL(a)}catch(n){De(ce,n.message),o.onError(n,u,s.value)}s.value=[...s.value,u],o.onChange(u,s.value)},d=async a=>{const u=a instanceof File?t(a):a;u||te(ce,"file to be removed not found");const n=g=>{p(g);const k=s.value;k.splice(k.indexOf(g),1),o.onRemove(g,k),va(g)};o.beforeRemove?await o.beforeRemove(u,s.value)!==!1&&n(u):n(u)};function r(){s.value.filter(({status:a})=>a==="ready").forEach(({raw:a})=>{var u;return a&&((u=l.value)==null?void 0:u.upload(a))})}return Q(()=>o.listType,a=>{a!=="picture-card"&&a!=="picture"||(s.value=s.value.map(u=>{const{raw:n,url:g}=u;if(!g&&n)try{u.url=URL.createObjectURL(n)}catch(k){o.onError(k,u,s.value)}return u}))}),Q(s,a=>{for(const u of a)u.uid||(u.uid=Z()),u.status||(u.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:p,clearFiles:v,handleError:c,handleProgress:y,handleStart:i,handleSuccess:f,handleRemove:d,submit:r}},ga=C({name:"ElUpload"}),ba=C({...ga,props:Ht,setup(o,{expose:l}){const s=o,t=ct(),p=j(),v=Y(),{abort:c,submit:y,clearFiles:f,uploadFiles:i,handleStart:d,handleError:r,handleRemove:a,handleSuccess:u,handleProgress:n}=ya(s,v),g=L(()=>s.listType==="picture-card"),k=L(()=>({...s,fileList:i.value,onStart:d,onProgress:n,onSuccess:u,onError:r,onRemove:a}));return ft(()=>{i.value.forEach(({url:m})=>{m!=null&&m.startsWith("blob:")&&URL.revokeObjectURL(m)})}),Re(Oe,{accept:mt(s,"accept")}),l({abort:c,submit:y,clearFiles:f,handleStart:d,handleRemove:a}),(m,O)=>(b(),w("div",null,[e(g)&&m.showFileList?(b(),x(de,{key:0,disabled:e(p),"list-type":m.listType,files:e(i),"handle-preview":m.onPreview,onRemove:e(a)},ne({append:E(()=>[_(pe,re({ref_key:"uploadRef",ref:v},e(k)),{default:E(()=>[e(t).trigger?D(m.$slots,"trigger",{key:0}):S("v-if",!0),!e(t).trigger&&e(t).default?D(m.$slots,"default",{key:1}):S("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:E(({file:U})=>[D(m.$slots,"file",{file:U})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):S("v-if",!0),!e(g)||e(g)&&!m.showFileList?(b(),x(pe,re({key:1,ref_key:"uploadRef",ref:v},e(k)),{default:E(()=>[e(t).trigger?D(m.$slots,"trigger",{key:0}):S("v-if",!0),!e(t).trigger&&e(t).default?D(m.$slots,"default",{key:1}):S("v-if",!0)]),_:3},16)):S("v-if",!0),m.$slots.trigger?D(m.$slots,"default",{key:2}):S("v-if",!0),D(m.$slots,"tip"),!e(g)&&m.showFileList?(b(),x(de,{key:3,disabled:e(p),"list-type":m.listType,files:e(i),"handle-preview":m.onPreview,onRemove:e(a)},ne({_:2},[m.$slots.file?{name:"default",fn:E(({file:U})=>[D(m.$slots,"file",{file:U})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):S("v-if",!0)]))}});var ha=z(ba,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const _a=fe(ha);const ka=R("div",{class:"el-upload__text"},[I(" 将文字、文件拖、粘贴到此处，或 "),R("em",null,"点击上传")],-1),Ea=R("div",{class:"el-upload__text",style:{"font-size":"10px"}},"天数<7或限制次数（24h后删除）",-1),Sa=R("div",{class:"el-upload__tip"},null,-1),$a=C({__name:"UploadFile",props:{shareData:{type:Object,default:()=>({expire_value:1,expire_style:"day"})}},setup(o){const l=o,s=ve(),t=ye(),p=B([]),v=B(null),c=i=>{t.addShareData({name:i.name,text:"",status:i.status,percentage:0,size:i.size,type:i.raw.type,uid:i.uid})},y=i=>{s.showFileBox=!0;const d=new FormData;d.append("file",i.file),d.append("expire_value",l.shareData.expireValue),d.append("expire_style",l.shareData.expireStyle),be({url:"share/file/",method:"post",data:d,onUploadProgress:r=>{const a=Math.round(r.loaded*100/r.total)||0;t.shareData.forEach(u=>{u.uid===i.file.uid&&(u.percentage=a,t.save())})}}).then(r=>{const a=r.detail;t.shareData.forEach(u=>{u.uid===i.file.uid&&(u.status="success",u.text=a.text,u.code=a.code,t.save())})}).catch(r=>{t.shareData.forEach(a=>{a.uid===i.file.uid&&(a.status="fail",a.text=r.message,t.save())})})};function f(i){const d=i.clipboardData&&i.clipboardData.items;if(d&&d.length)for(let r=0;r<d.length;r++)if(d[r].kind==="string")d[r].type.match(/^text\/plain/)&&d[r].getAsString(function(a){console.log(a)});else{const a=d[r].getAsFile();if(a){const u=Date.now();a.uid=u,t.addShareData({name:a.name,text:"",status:"ready",percentage:0,size:a.size,type:a.type,uid:u}),y({file:a})}}}return vt(()=>{document.removeEventListener("paste",f)}),we(()=>{document.addEventListener("paste",f)}),(i,d)=>{const r=N,a=_a;return b(),w("div",null,[_(a,{class:"upload-demo",drag:"",multiple:"","show-file-list":!1,ref_key:"uploadBox",ref:v,"file-list":p.value,"onUpdate:fileList":d[0]||(d[0]=u=>p.value=u),"on-change":c,"http-request":y},{tip:E(()=>[Sa]),default:E(()=>[_(r,{class:"el-icon--upload"},{default:E(()=>[_(e(Qe))]),_:1}),ka,Ea]),_:1},8,["file-list"])])}}});const wa={style:{position:"relative"}},Ra=C({__name:"UploadText",props:{shareData:{type:Object,default:()=>({expire_value:1,expire_style:"day"})}},setup(o){const l=o,s=B(""),t=ve(),p=ye(),v=()=>{if(s.value==="")lt.warning("请输入您要分享的文本");else{const c=new FormData;c.append("text",s.value),c.append("expire_value",l.shareData.expireValue),c.append("expire_style",l.shareData.expireStyle),be({url:"share/text/",method:"post",data:c}).then(y=>{const f=y.detail;t.showFileBox=!0,p.addShareData({name:"文本分享",text:f.text,code:f.code,status:"success",percentage:100,size:s.value.length,type:"text",uid:Date.now()})})}};return(c,y)=>{const f=ge,i=Et;return b(),w("div",wa,[_(f,{placeholder:"请输入您要寄出的文本",modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=d=>s.value=d),type:"textarea",rows:9,"input-style":{"border-radius":"20px",border:"1px dashed var(--el-border-color)","box-shadow":"none"}},null,8,["modelValue","input-style"]),_(i,{onClick:v,style:{position:"absolute",right:"0",top:"0","border-radius":"0 20px 0 20px",margin:"1px",background:"rgba(255,255,255,0.2)"},size:"large"},{default:E(()=>[I("分享")]),_:1})])}}}),Ca={style:{display:"flex","margin-top":"1rem"}},Da={key:0},Fa={key:1},xa={key:2},Ua={key:3},La={key:4},Ba={style:{"margin-top":"1rem"}},Ma=C({__name:"SendView",setup(o){const l=B({expireValue:1,expireStyle:"day",targetType:"file"});return(s,t)=>{const p=st,v=ot,c=ge,y=It,f=At,i=et;return b(),w("main",null,[_(i,{class:"card",style:{padding:"1rem",position:"relative"},"body-style":{padding:"0px 0px 20px 0px"}},{default:E(()=>[_(Ze),R("div",Ca,[R("div",null,[_(c,{modelValue:l.value.expireValue,"onUpdate:modelValue":t[1]||(t[1]=d=>l.value.expireValue=d),style:{width:"200px"},placeholder:"请输入值"},{prepend:E(()=>[_(v,{modelValue:l.value.expireStyle,"onUpdate:modelValue":t[0]||(t[0]=d=>l.value.expireStyle=d),placeholder:"过期方式",style:{width:"75px"}},{default:E(()=>[_(p,{label:"天数",value:"day"}),_(p,{label:"小时",value:"hour"}),_(p,{label:"分钟",value:"minute"}),_(p,{label:"永久",value:"forever"}),_(p,{label:"次数",value:"count"})]),_:1},8,["modelValue"])]),append:E(()=>[l.value.expireStyle=="day"?(b(),w("span",Da,"天")):l.value.expireStyle=="hour"?(b(),w("span",Fa,"时")):l.value.expireStyle=="minute"?(b(),w("span",xa,"分")):l.value.expireStyle=="forever"?(b(),w("span",Ua,"👌")):l.value.expireStyle=="count"?(b(),w("span",La,"次")):S("",!0)]),_:1},8,["modelValue"])]),_(f,{modelValue:l.value.targetType,"onUpdate:modelValue":t[2]||(t[2]=d=>l.value.targetType=d),style:{"margin-left":"1rem"}},{default:E(()=>[_(y,{label:"file"},{default:E(()=>[I("文件")]),_:1}),_(y,{label:"text"},{default:E(()=>[I("文本")]),_:1})]),_:1},8,["modelValue"])]),R("div",Ba,[l.value.targetType=="file"?(b(),x($a,{key:0,shareData:l.value},null,8,["shareData"])):l.value.targetType=="text"?(b(),x(Ra,{key:1,shareData:l.value},null,8,["shareData"])):S("",!0)])]),_:1})])}}});export{Ma as default};
